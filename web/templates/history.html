<ion-view title="搜索历史" id="history" class=" ">
    <ion-content padding="true" class="has-header" scroll="false">
        <div style="width: 290px; margin: 0 auto" ng-init="sortBy = 'rating'">
            <div class="list card" ng-repeat="spot in history | orderBy: '-' + sortBy">
                <a ui-sref="view.detail({id: {{spot.id}}})" class="item item-avatar">
                    <img ng-src="../img/{{spot.id}}.png">
                    <h2>{{spot.name}}</h2>
                    <p ng-show="sortBy == 'rating'">评分：{{spot.rating.toFixed(2)}}</p>
                    <p ng-show="sortBy == 'favor'">收藏：{{spot.favor}}</p>
                    <p ng-show="sortBy == 'footprint'">足迹：{{spot.footprint}}</p>
                    <p ng-show="sortBy == 'wish'">心愿：{{spot.wish}}</p>
                    <p ng-show="sortBy == 'recommend'">推荐指数：{{spot.wish}}</p>
                    <p ng-show="sortBy == ''"></p>
                </a>
            </div>
            <div style="text-align: center; margin-bottom: 20px">
                <button class="button button-small button-positive button-outline" style="width: 50px;"
                        ng-click="sortBy = 'rating'">评分
                </button>
                <button class="button button-small button-positive button-outline" style="width: 50px;"
                        ng-click="sortBy = 'favor'">收藏
                </button>
                <button class="button button-small button-positive button-outline" style="width: 50px;"
                        ng-click="sortBy = 'footprint'">足迹
                </button>
                <button class="button button-small button-positive button-outline" style="width: 50px;"
                        ng-click="sortBy = 'wish'">心愿
                </button>
            </div>
        </div>
        <div class="bar bar-header my-bar-header item-input-inset has-tabs-top" style="width: 285px; margin: 0 auto">
            <label class="item-input-wrapper">
                <i class="icon ion-ios-search placeholder-icon"></i>
                <input type="text" placeholder="通过输入关键词搜索" id="search" ng-model="searchValue">
            </label>
            <button class="button button-outline" ng-click="search(searchValue)">
                搜索
            </button>
        </div>
        <div class="auto_hidden" id="autocomplete"></div>
    </ion-content>
</ion-view>
